var HashtagItem,HashtagList;HashtagItem=(function(){function c(d){this.data=d;this.label="truncate"}c.prototype.options=function(d){if(d){if(d.label!==undefined){this.label=d.label}}return this};var b=_.template('<div class="hashtag-item" data-id="<%= data.item.id %>" data-related-ids="<%= data.item.related_ids %>">  <div class="hashtag-circle">    <canvas class="hashtag-level-bar" data-level="<%= data.item.level / 10 %>"/>    <% if (data.item.icon) { %>    <div class="hashtag-icon" style="background-image: url(<%= data.item.icon %>)">    <% } else { %>    <div class="hashtag-icon hashtag-<%= data.item.primary ? "brand" : "interest" %>">    <% } %>      <div class="hashtag-level">        <span><%= data.item.level %></span>      </div>    </div>  </div>  <% if (data.options.label) { %>    <div class="hashtag-label <%= data.options.label == "truncate" && "truncate" || "" %>">      <div>#<%= data.item.name %></div>      <div><%= data.item.energy %></div>    </div>  <% } %></div>',{variable:"data"});c.prototype.html=function(){return b({item:this.data,options:{label:this.label}})};c.drawRadial=function(f){var d=$(f).find("canvas.hashtag-level-bar");var h=d.data("level");var g=10;var e=64;if(h){setTimeout(a,500,d,h,g,e)}};c.prototype.render=function(d){var e=$(this.html()).appendTo(d);c.drawRadial(e);return e};var a=function(f,n,e,j,m){if(m===undefined){m=0.1}var i=0.5,h=0.5;if(m>0.5){h=-(m*0.5)}else{if(m<=0){i=0;h=0}else{h=0.25-(m*0.5)}}var o=f[0].getContext("2d");o.clearRect(0,0,f[0].width,f[0].height);var d=Math.PI/2;var g=m*(Math.PI*2)+Math.PI/2;o.translate(e/2+4,e/2+4);var p=j+2;var l=o.createLinearGradient(0,0,0,p*2);l.addColorStop(0,"orange");l.addColorStop(1,"yellow");var k=o.createLinearGradient(0,0,0,p*2);k.addColorStop(0,"orange");k.addColorStop(1,"red");o.lineWidth=e;o.lineCap="round";o.shadowColor="#999";o.shadowBlur=10;o.shadowOffsetX=-2;o.shadowOffsetY=2;o.save();o.beginPath();o.rect(-e,-e,p+e,p*2+e*2);o.clip();o.strokeStyle=l;o.beginPath();o.arc(p,p,p,d+i,g+h,false);o.stroke();o.restore();o.save();o.beginPath();o.rect(p,-e,p+e,(p*2)+e*2);o.clip();o.strokeStyle=k;o.beginPath();o.arc(p,p,p,d+i,g+h,false);o.stroke();o.restore();o.translate(-e/2-4,-e/2-4);if(n>m){setTimeout(a,30,f,n,e,j,m+0.06)}};return c})();HashtagList=(function(){function b(c){this.data=c}b.prototype.options=function(c){this.options=c;return this};var a=_.template('<ul class="hashtag-list">  <% data.list.forEach(function(item) { %>    <li><%= new HashtagItem(item).options(data.options).html() %></li>  <% }); %></ul>',{variable:"data"});b.prototype.html=function(){return a({list:this.data,options:this.options})};b.prototype.render=function(c){return $(this.html()).appendTo(c).find(".hashtag-item").each(function(){HashtagItem.drawRadial(this)})};return b})();(function(a){a.fn.hashtagItem=function(c,b){return new HashtagItem(c).options(b).render(this)};a.fn.drawRadial=function(){HashtagItem.drawRadial(this);return this};a.fn.hashtagList=function(c,b){return new HashtagList(c).options(b).render(this)}})(jQuery);